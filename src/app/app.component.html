<!-- Font Awesome CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<div class="min-h-screen bg-gradient-to-br from-[#020c12] to-[#071e2c] text-white font-['Inter']">

  <!-- HEADER -->
  <header
    class="fixed top-0 left-0 right-0 h-14 px-6 flex items-center justify-between
           backdrop-blur-md bg-black/40 border-b border-white/5 z-50">

    <div class="flex items-center gap-3">
      <button class="sm:hidden text-xl text-cyan-400" (click)="side = !side">
        <i class="fas fa-bars"></i>
      </button>

      <span class="text-xl font-semibold tracking-wide">
        Phrase<span class="text-cyan-400">Itera</span>
      </span>
    </div>
    <div class="relative flex items-center gap-4 text-cyan-300">

      <!-- Profile --
      <button routerLink="profile" class="hover:text-emerald-400 transition">
        <i class="fas fa-user-circle text-xl"></i>
      </button>

      <!-- Notifications --
      <button class="hover:text-emerald-400 transition">
        <i class="fas fa-bell text-lg"></i>
      </button>

      <!-- Settings --
      <button
        (click)="settingsOpen = !settingsOpen"
        class="hover:text-emerald-400 transition"
      >
        <i class="fas fa-cog text-lg"></i>
      </button>

      <!-- BACKDROP (click outside to close) -->
      <div
        *ngIf="settingsOpen"
        class="fixed inset-0 z-40"
        (click)="settingsOpen = false">
      </div>

  <!-- SETTINGS DROPDOWN -->
      <div
        *ngIf="settingsOpen"
        class="absolute right-0 top-10 z-50
              w-48 rounded-xl
              bg-[#0a1a23]
              border border-cyan-800
              shadow-xl
              text-sm"
      >

    <!-- GUEST OPTIONS -->
    <ng-container *ngIf="check() !== 'signed in'"> 

      <!-- Sign in -->
      <button
        routerLink="signin"
        (click)="settingsOpen = false"
        class="w-full flex items-center gap-3 px-4 py-3
               hover:bg-cyan-900/40 transition"
      >
        <i class="fas fa-sign-in-alt text-cyan-400"></i>
        <span>Sign in</span>
      </button>

      <!-- Sign up -->
      <button
        routerLink="signup"
        (click)="settingsOpen = false"
        class="w-full flex items-center gap-3 px-4 py-3
               hover:bg-emerald-900/30 text-emerald-400 transition"
      >
        <i class="fas fa-user-plus"></i>
        <span>Sign up</span>
      </button>

    </ng-container>

    <!-- SIGNED IN --
    <button
      *ngIf="check() === 'signed in'"
      (click)="auth_U.signOut(); settingsOpen = false"
      class="w-full flex items-center gap-3 px-4 py-3
             hover:bg-red-900/30 text-red-400 transition"
    >
      <i class="fas fa-sign-out-alt"></i>
      <span>Sign out</span>
    </button>-->

  </div>
</div>

  </header>

  <!-- SIDEBAR -->
  <aside
    class="fixed top-14 left-0 h-[calc(100%-3.5rem)] w-20
           backdrop-blur-lg bg-black/40 border-r border-white/5
           flex flex-col items-center py-6 space-y-8
           transition-transform duration-300 z-40"
    [ngClass]="side ? 'translate-x-0' : '-translate-x-full sm:translate-x-0'">

    <ng-container *ngFor="let item of sidebarItems">
      <button
        [routerLink]="item.route"
        routerLinkActive="text-emerald-400"
        class="group flex flex-col items-center text-cyan-300 hover:text-emerald-400 transition">

        <i class="{{ item.icon }} text-xl"></i>
        <span class="text-[10px] opacity-0 group-hover:opacity-100 transition">
          {{ item.label }}
        </span>
      </button>
    </ng-container>

    <div class="flex-1"></div>

    <button
      class="mb-4 text-cyan-400 hover:text-emerald-400 transition"
      (click)="seeLanguages()">
      ğŸŒ
    </button>

<div *ngIf="slanguages" class="text-xs w-full text-center text-[#7b8694] space-y-3 pb-4"> 
        <div>Â© 2025 
          <span class="text-white font-medium">PhraseItera</span>
        </div> <div class="space-y-1"> 
        <button routerLink="/privacy-policy" class="hover:text-white transition">Privacy Policy</button> 
        <button routerLink="/terms-of-service" class="hover:text-white transition">Terms</button> 
        <button routerLink="/feedback" class="hover:text-white transition">Contact</button> 
      </div> 
      <div class="flex justify-center gap-4 text-lg text-[#9ba7b9]"> 
        <a href="https://instagram.com/phraseitera/" target="_blank" class="hover:text-[#00e5ff] transition"> <i class="fa-brands fa-instagram"></i> </a> <a href="https://youtube.com" target="_blank" class="hover:text-[#00e5ff] transition"> <i class="fa-brands fa-youtube"></i> 
        </a> 
      </div> 
    </div>
  </aside>


  <!-- MAIN -->
  <main
    class="pt-16 px-6 transition-all duration-300"
    [ngClass]="{ 'ml-20': screenWidth >= 640 }">

    <section class="max-w-5xl mx-auto">
      <router-outlet></router-outlet>
    </section>
    
  </main>
</div>
