<p>setnewpassword works!</p>
<!-- src/app/account/change-password/change-password.component.html -->
<div class="max-w-md mx-auto bg-[#0a1a23] p-6 rounded-2xl shadow-xl border border-cyan-900">
  <h2 class="text-xl font-semibold text-emerald-300 mb-4">Set a new password</h2>

  <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-5">
    <!-- Current password -->
    <div>
      <label class="block text-cyan-200 mb-2">Current password</label>
      <input type="password" formControlName="current_password"
             class="w-full px-4 py-2 rounded-xl bg-[#030a0e] text-cyan-100 border border-cyan-800 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
      <p *ngIf="f.current_password.touched && f.current_password.errors"
         class="text-red-400 text-sm mt-1">
        <span *ngIf="f.current_password.errors['required']">Required.</span>
        <span *ngIf="f.current_password.errors['server']">{{ f.current_password.errors['server'] }}</span>
      </p>
    </div>

    <!-- New + confirm -->
    <div formGroupName="new_password_group">
      <label class="block text-cyan-200 mb-2">New password</label>
      <input type="password" formControlName="new_password"
             class="w-full px-4 py-2 rounded-xl bg-[#030a0e] text-cyan-100 border border-cyan-800 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
      <p *ngIf="g.new_password.touched && g.new_password.errors" class="text-red-400 text-sm mt-1">
        <span *ngIf="g.new_password.errors['required']">Required.</span>
        <span *ngIf="g.new_password.errors['minlength']">At least 8 characters.</span>
        <span *ngIf="g.new_password.errors['pattern']">Use upper, lower, number.</span>
      </p>

      <label class="block text-cyan-200 mt-4 mb-2">Confirm new password</label>
      <input type="password" formControlName="confirm_new_password"
             class="w-full px-4 py-2 rounded-xl bg-[#030a0e] text-cyan-100 border border-cyan-800 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
      <p *ngIf="form.get('new_password_group')?.touched && form.get('new_password_group')?.errors?.['mismatch']"
         class="text-red-400 text-sm mt-1">Passwords do not match.</p>
      <p *ngIf="g.confirm_new_password.errors?.['server']" class="text-red-400 text-sm mt-1">
        {{ g.confirm_new_password.errors['server'] }}
      </p>
    </div>

    <button type="submit" [disabled]="loading || form.invalid"
            class="w-full py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-medium disabled:opacity-50">
      {{ loading ? 'Updatingâ€¦' : 'Update Password' }}
    </button>
  </form>

  <p class="text-cyan-400 text-xs mt-4">
    Tip: Use a passphrase (4+ random words) or a password manager.
  </p>
</div>
