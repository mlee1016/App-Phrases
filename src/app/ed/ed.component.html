  <!-- ğŸŒ Wrapper -->
<div *ngIf="authLoaded" class="min-h-screen text-white ">

  <!-- ğŸ§ Signed-In State -->
  <div
    *ngIf="check() === 'signed in'; else hero"
    class="flex flex-col items-center justify-start text-center animate-fadeIn px-4 sm:px-6 md:px-10 pt-10 md:pt-16 space-y-8 sm:space-y-10"
  >

    <!-- ğŸ‘‹ Welcome -->
    <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-cyan-200 drop-shadow">
      Welcome{{ user() ? ', ' + user() : '' }}!
    </h1>
    <p class="text-base sm:text-lg md:text-xl text-cyan-100 mb-6">
      Continue your phrase mastery journey
    </p>

    <div class="w-full max-w-6xl mx-auto space-y-8 sm:space-y-10">

      <!-- ğŸŒ Language Selector -->
      <div class="text-center">
        <label for="language" class="block text-lg font-semibold text-cyan-200 mb-3">
          ğŸŒ Select Language Progress
        </label>
        <select
          id="language"
          [(ngModel)]="selectedLanguage"
          class="w-full sm:w-72 px-4 py-3 rounded-xl bg-[#0a1a23] text-cyan-100 border border-cyan-600 
                 focus:ring-2 focus:ring-cyan-400 focus:outline-none shadow-md"
        >
          <option *ngFor="let lang of language" [ngValue]="lang">
            {{ lang.name }}
          </option>
        </select>
      </div>

      <!-- ğŸ“˜ Grammar Section -->
      <div class="bg-[#0a1a23] shadow-xl rounded-2xl p-5 sm:p-8">
        <h2 class="text-xl sm:text-2xl font-bold text-emerald-300 mb-4 sm:mb-6 flex items-center gap-2">
          ğŸ“˜ Grammar
        </h2>

        <!-- Stats -->
        <div class="flex flex-wrap justify-center gap-4 sm:gap-6 mb-6 sm:mb-8">
          <div
            class="bg-[#030a0e] shadow-lg rounded-xl p-5 sm:p-6 w-40 sm:w-52 text-center hover:scale-105 transition-transform"
          >
            <h3 class="font-semibold text-base sm:text-lg text-emerald-200">Completed</h3>
            <p class="text-2xl sm:text-3xl font-bold text-cyan-200 mt-2">
              {{ getDonePhrasesByType('grammar').length }}
            </p>
            <p class="text-sm text-emerald-500">out of {{ total() }}</p>
          </div>
        </div>

        <!-- Grammar List -->
        <ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
          <li
            *ngFor="let phrase of getDonePhrasesByType('grammar')"
            class="bg-[#030a0e] p-4 sm:p-5 rounded-xl shadow-md hover:scale-105 transition-transform text-left border border-cyan-800"
          >
            <p class="text-cyan-200 font-semibold text-sm sm:text-base">{{ phrase.name }}</p>
          </li>
        </ul>

        <p
          *ngIf="getDonePhrasesByType('grammar').length === 0"
          class="text-cyan-400 mt-4 text-center"
        >
          ğŸš€ No grammar phrases completed yet.
        </p>
      </div>

      <!-- ğŸ“– Story Section -->
      <div class="bg-[#0a1a23] shadow-xl rounded-2xl p-5 sm:p-8">
        <h2 class="text-xl sm:text-2xl font-bold text-purple-300 mb-4 sm:mb-6 flex items-center gap-2">
          ğŸ“– Stories
        </h2>

        <!-- Stats -->
        <div class="flex flex-wrap justify-center gap-4 sm:gap-6 mb-6 sm:mb-8">
          <div
            class="bg-[#030a0e] shadow-lg rounded-xl p-5 sm:p-6 w-40 sm:w-52 text-center hover:scale-105 transition-transform"
          >
            <h3 class="font-semibold text-base sm:text-lg text-emerald-200">Completed</h3>
            <p class="text-2xl sm:text-3xl font-bold text-cyan-200 mt-2">
              {{ getDonePhrasesByType('story').length }}
            </p>
            <p class="text-sm text-emerald-500">out of 20</p>
          </div>
        </div>

        <!-- Story List -->
        <ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
          <li
            *ngFor="let phrase of getDonePhrasesByType('story')"
            class="bg-[#030a0e] p-4 sm:p-5 rounded-xl shadow-md hover:scale-105 transition-transform text-left border border-purple-800"
          >
            <p class="text-cyan-200 font-semibold text-sm sm:text-base">{{ phrase.name }}</p>
          </li>
        </ul>

        <p
          *ngIf="getDonePhrasesByType('story').length === 0"
          class="text-cyan-400 mt-4 text-center"
        >
          ğŸš€ No stories completed yet.
        </p>
      </div>

      <!-- ğŸš€ Quick Links -->
      <div class="flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-6 w-full mt-8">
        <button [routerLink]="'/language/Korean'" class="bg-cyan-700 hover:bg-cyan-600 px-6 py-3 rounded-xl text-white shadow-md hover:shadow-lg transition w-full sm:w-auto">
          korean
        </button>
        <button  [routerLink]="'/language/Russian'" class="bg-emerald-700 hover:bg-emerald-600 px-6 py-3 rounded-xl text-white shadow-md hover:shadow-lg transition w-full sm:w-auto">
          russian
        </button>
        <button  (click)="navToSite(2)" class="bg-red-700 hover:bg-red-600 px-6 py-3 rounded-xl text-white shadow-md hover:shadow-lg transition w-full sm:w-auto">
          italian
        </button>
        
        <button  (click)="navToSite(0)" class="bg-indigo-700 hover:bg-indigo-600 px-6 py-3 rounded-xl text-white shadow-md hover:shadow-lg transition w-full sm:w-auto">
          Japanese
        </button>
      </div>

      <!-- âœ¨ Recent Phrases -->
      <div class="w-full mt-10 sm:mt-12">
        <h2 class="text-xl sm:text-2xl font-semibold text-cyan-200 mb-4 sm:mb-6">âœ¨ Recent Phrases</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6">
          <div
            *ngFor="let phrase of recentPhrases"
            class="bg-[#0a1a23] rounded-xl p-5 shadow-md hover:scale-105 transition-transform text-left border border-cyan-800"
          >
            <p class="font-medium text-emerald-200 text-sm sm:text-base">{{ phrase.s }}</p>
            <p class="text-xs sm:text-sm text-cyan-100 mt-1">{{ phrase.content }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #hero>
<section class="relative py-24 sm:py-28 bg-[#030c14] overflow-hidden">
  <!-- âœ¨ Soft Gradient Glow Background -->
  <div class="absolute inset-0">
    <div class="absolute w-[700px] h-[700px] bg-cyan-900/20 blur-[180px] rounded-full -top-40 -left-32 animate-pulse-slow"></div>
    <div class="absolute w-[500px] h-[500px] bg-emerald-800/20 blur-[160px] rounded-full bottom-0 right-0 animate-pulse-slow"></div>
  </div>

  <div class="relative container mx-auto px-6 text-center font-sans">
    


    <!-- ğŸ† Main Title -->
    <h1 class="text-5xl sm:text-6xl md:text-7xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-300 via-emerald-200 to-lime-200 mb-6 animate-fadeUp">
      Master Languages with Ease
    </h1>

    <!-- âœ¨ Subtitle -->
    <p (click)="clickSee()" class="text-xl sm:text-2xl text-emerald-200/90 mb-12 animate-fadeUp delay-1 leading-relaxed">
      Explore hundreds of practical phrases  
      <span *ngIf="currentLang" class="text-lime-200 font-semibold ml-2 animate-fadeBlink">
        {{ currentLang }}
      </span>
    </p>

    <!-- ğŸŒ Language Cards -->
    <div class="flex flex-wrap justify-center gap-6 sm:gap-10 mb-20 animate-fadeUp delay-2">
      <div
        *ngFor="let card of [
          {flag:'kr',name:'Korean',native:'í•œêµ­ì–´',color:'from-cyan-800 to-cyan-600',id:1},
          {flag:'ru',name:'Russian',native:'Ğ ÑƒÑÑĞºĞ¸Ğ¹',color:'from-blue-900 to-blue-700',id:3},
          {flag:'it',name:'Italian',native:'Italiano',color:'from-rose-900 to-rose-700',id:2},
          {flag:'jp',name:'Japanese',native:'æ—¥æœ¬èª',color:'from-purple-900 to-purple-700',id:0}
        ]"
        (click)="navToSite(card.id)"
        [ngClass]="'bg-gradient-to-tr ' + card.color"
        class="relative shadow-md rounded-2xl p-6 w-44 sm:w-56 text-center cursor-pointer
               transition-transform duration-300 hover:-translate-y-3 hover:shadow-cyan-500/30
               hover:scale-105 text-emerald-100 overflow-hidden group"
      >
        <img [src]="'https://flagcdn.com/' + card.flag + '.svg'" class="mx-auto w-10 sm:w-12 mb-3 drop-shadow-md" alt="{{ card.name }}">
        <h3 class="font-semibold text-lg sm:text-xl text-white">{{ card.name }}</h3>
        <p class="text-sm text-emerald-300">{{ card.native }}</p>
      </div>
    </div>

    <!-- ğŸ’¬ Features Section -->
    <section class="max-w-5xl mx-auto text-center bg-white/5 backdrop-blur-xl rounded-3xl border border-cyan-700/30 shadow-lg p-12 animate-fadeUp delay-3">
      <h2 class="text-3xl sm:text-4xl font-bold text-cyan-300 mb-4">What Youâ€™ll Find Here</h2>
      <p class="text-emerald-200 mb-10 text-lg">
        Learn through <span class="text-lime-300 font-semibold">interactive tools</span> designed for real communication.
      </p>

      <div class="grid sm:grid-cols-2 gap-8 text-left">
        <div class="feature-card">
          <p class="text-3xl mb-2">ğŸ´</p>
          <h3 class="font-semibold text-lg text-cyan-200">Study Cards</h3>
          <p class="text-emerald-200/90">Learn phrases visually with meaning and pronunciation.</p>
        </div>
        <div class="feature-card">
          <p class="text-3xl mb-2">ğŸ”Š</p>
          <h3 class="font-semibold text-lg text-cyan-200">Audio Pronunciation</h3>
          <p class="text-emerald-200/90">Listen to native-like pronunciation via speech synthesis.</p>
        </div>
        <div class="feature-card">
          <p class="text-3xl mb-2">âœï¸</p>
          <h3 class="font-semibold text-lg text-cyan-200">Type-in Practice</h3>
          <p class="text-emerald-200/90">Challenge yourself by typing translations or completing sentences.</p>
        </div>
        <div class="feature-card">
          <p class="text-3xl mb-2">ğŸ’¬</p>
          <h3 class="font-semibold text-lg text-cyan-200">Chat Mode</h3>
          <p class="text-emerald-200/90">Engage in simulated dialogues to strengthen conversation skills.</p>
        </div>
      </div>
    </section>

    <!-- ğŸŒ Browser Support -->
    <div class="max-w-3xl mx-auto bg-white/5 backdrop-blur-xl rounded-3xl border border-emerald-700/30 p-10 mt-20 animate-fadeUp delay-4">
      <h2 class="text-2xl font-semibold text-emerald-300 mb-4 text-center">Browser Support</h2>
      <ul class="text-emerald-200 space-y-2 text-left max-w-md mx-auto">
        <li>ğŸŒ <b>Edge or Chrome:</b> Full support for voice & recognition</li>
        <li>ğŸ <b>Safari:</b> Playback only</li>
        <li>ğŸ¦Š <b>Firefox / Opera:</b> Partial support</li>
      </ul>
      <p class="text-emerald-400 mt-6 text-sm italic text-center">
        Use Edge or Chrome for full experience.
      </p>
    </div>
  </div>
</section>
</ng-template>

</div>
