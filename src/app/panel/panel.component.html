<div class="flex items-center justify-center min-h-screen">
  <div class="quiz-container shadow-2xl rounded-3xl p-8 w-full max-w-lg text-center relative overflow-hidden">

    <!-- Decorative Gradient Border -->
    <div class="absolute -top-10 -right-10 w-40 h-40 bg-indigo-200 rounded-full blur-3xl opacity-30"></div>
    <div class="absolute -bottom-12 -left-12 w-44 h-44 bg-purple-200 rounded-full blur-3xl opacity-30"></div>

    <div *ngIf="currentKanji" class="relative z-10">

      <!-- Word Section -->
      <div class="mb-6">
        <p class="text-6xl font-extrabold text-gray-200 drop-shadow-sm">{{ currentKanji.word }}</p>
        <p class="text-3xl font-semibold text-gray-400 mt-2 tracking-wide">
          {{ maskKanjiReading(currentKanji) }}
        </p>
      </div>

      <!-- Hint Section -->
      <div class="mb-6">
        <span 
          class="inline-block border border-indigo-200 px-3 py-1 rounded-full text-sm text-indigo-600 bg-indigo-50 cursor-pointer hover:bg-indigo-100 hover:text-indigo-800 transition"
          (click)="hint()">
          ğŸ’¡ Hint
        </span>
        <span *ngIf="hintEnglish" class="ml-3 text-gray-700 font-medium">
          {{ currentKanji.meaning }}
        </span>
      </div>

      <!-- Input -->
      <input 
        type="text" 
        #inputRef
        (click)="updateCursor(inputRef)"
        [(ngModel)]="userInput"
        placeholder="Type the reading..."
        class="w-full px-4 py-3 border rounded-xl mb-5 text-indigo-200 text-center text-lg shadow-sm focus:ring-2 focus:ring-indigo-400 focus:outline-none"
      />

      <!-- Feedback -->
      <div *ngIf="answerChecked && !showAnswer" class="mb-6">
        <p *ngIf="isCorrect" class="text-green-600 font-semibold animate-bounce">
          âœ… Correct! Great job.
        </p>
        <p *ngIf="!isCorrect" class="text-red-600 font-semibold">
          âŒ Not quite... Try again or reveal the answer.
        </p>
      </div>

      <!-- Answer Section -->
      <div *ngIf="showAnswer" class="bg-gradient-to-br from-gray-800 to-gray-700 text-gray-100 rounded-xl p-5 mb-6 shadow-md text-left space-y-2">
        <p><span class="font-semibold">ğŸ“– Full Reading:</span> {{ currentKanji.reading }}</p>
        <p>
          <span class="font-semibold">ğŸˆ¶ Tested Kanji:</span> {{ currentKanji.kanji }} 
          <span class="text-indigo-200">({{ currentKanji.kanjiReading }})</span>
        </p>
        <p><span class="font-semibold">ğŸ’¡ Meaning:</span> {{ currentKanji.meaning }}</p>
      </div>

      <!-- Action Buttons -->
      <div class="flex justify-center gap-4 mb-8">
        <button 
          (click)="checkAnswer()" 
          class="px-6 py-2.5 rounded-xl font-semibold shadow-md transition bg-indigo-600 text-white hover:bg-indigo-700 active:scale-95">
          âœ… Check
        </button>
        <button 
          (click)="reveal()" 
          [disabled]="showAnswer"
          class="px-6 py-2.5 rounded-xl font-semibold shadow-md transition disabled:opacity-50 disabled:cursor-not-allowed bg-indigo-500 text-white hover:bg-indigo-600 active:scale-95">
          ğŸ‘€ Reveal
        </button>
        <button 
          (click)="nextWord()" 
          [disabled]="!isCorrect && !showAnswer" 
          class="px-6 py-2.5 rounded-xl font-semibold shadow-md transition disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-800 hover:bg-gray-300 active:scale-95">
          ğŸ” Next
        </button>
      </div>

      <!-- Japanese Keyboard -->
      <div class="mt-6 border-t pt-4">
        <app-kboard 
          [lang]="'Japanese'" 
          (charSelected)="appendToInput($event, inputRef)" 
          class="Keyboard">
        </app-kboard>
      </div>
      cards:{{remainingExamples.length}}
    </div>
  </div>
</div>
